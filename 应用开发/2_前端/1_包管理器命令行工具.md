npm、Yarn、pnpm 都是 Node.js 的包管理器，核心功能一样：装包、锁版本、管理依赖，但实现方式和侧重点不同。[1]

## 核心区别一览

| 维度           | npm                           | Yarn (v1/v3+)                          | pnpm                                   |
|----------------|-------------------------------|----------------------------------------|----------------------------------------|
| 安装速度       | 最慢，[pnpm、Yarn 明显更快][2] | 快，支持并行安装和缓存[2]             | 通常最快，官方基准中安装时间最短[3][4] |
| 磁盘占用       | 最大，重复安装依赖[2][5]   | 略好于 npm，[Plug’n’Play 可去 node_modules][6] | 最省磁盘，单一全局内容寻址仓库存包[7][3] |
| 依赖结构       | 扁平 node_modules，容易“幽灵依赖”[8] | 类似 npm，但有更好的锁定机制[2]         | 严格依赖隔离，避免未声明依赖可被访问[9][8] |
| Monorepo 支持 | 有 workspace，但较弱[2][10] | 有 workspaces，配合 Berry 较强[2][10] | 一流的 workspace/monorepo 体验[10][2] |
| 生态与默认     | Node 自带、生态最大[1][5] | 用的人多，但增速放缓[1]                | 近两年在团队、企业和 monorepo 中迅速流行[2][11] |
| 适用场景       | 小项目、老项目、初学者[10][11] | 已经在用 Yarn 的项目[10]               | 新项目、Monorepo、追求速度/磁盘效率[10][11][7] |

## 各自特点简述

- **npm**  
  - Node 附带，无需额外安装，命令最“标准”，适合简单或已有 npm 的项目。[1][5]
  - 相比另外两个，在大项目上会慢、占空间更大，依赖树扁平导致依赖“隐式可见”，安全性略差。[2][8]

- **Yarn**  
  - 通过并行安装和缓存提升速度，引入 yarn.lock 保证安装可重复。[2][5]
  - Yarn Berry 提供 Plug’n’Play（无 node_modules），CI 非常快，但上手和调试成本略高。[6][12]

- **pnpm**  
  - 使用“内容寻址存储”：全局只存一份包文件，然后通过硬链接/符号链接到各项目，既快又省磁盘。[7][3]
  - 依赖严格隔离，只有 package.json 里声明的依赖才能访问，安全性和可维护性更好，Monorepo/workspaces 体验突出。[9][2][10]

## 新项目推荐

综合 2024–2026 的社区趋势和基准测试，默认推荐：**pnpm 优先，其次 npm，Yarn 更多是存量项目继续用**。[11][7][12]

- 如果是普通新项目（比如 Next.js、Vite、Nest 等）  
  - 推荐直接用 **pnpm**：安装快、占盘小、对 CI 和 Docker 都友好，几乎所有主流脚手架都已支持。[7][3][13]
  - 初期上手成本很低，命令和 npm 基本一一对应（npm install → pnpm install）。[8]

- 如果是大型 Monorepo 或团队协作项目  
  - 强烈推荐 **pnpm**，内置 workspace/monorepo 能力被很多公司当成“专业标准”。[10][2][13]

- 只有在这些情况下可以考虑不用 pnpm：  
  - 公司规范强制 npm 或 Yarn；  
  - 需要 Yarn Berry 的某些特性（如极致的 zero‑install / PnP）；[6][14]
  - 维护老项目，已经深度绑定 npm/Yarn，不想迁移。[10][15]

## 实际落地建议

- 新项目初始化时：  
  - 安装 pnpm：`npm i -g pnpm`。[8]
  - 脚手架：大部分 CLI 支持 `--package-manager=pnpm` 或自动检测。[14]

- 团队协作注意事项：  
  - 在 README 写明统一使用 pnpm，并提交 `pnpm-lock.yaml`；[2]
  - CI 中把 `npm ci` 改为 `pnpm install --frozen-lockfile`，保证锁文件一致。[14]

Sources
[1] Package Managers Comparison: Yarn, NPM, PNPM https://www.cookielab.io/blog/package-managers-comparison-yarn-npm-pnpm
[2] Understanding Package Managers: pnpm vs npm vs yarn https://dev.to/jenueldev/understanding-package-managers-pnpm-vs-npm-vs-yarn-jnp
[3] Benchmarks of JavaScript Package Managers - PNPM https://pnpm.io/benchmarks
[4] PNPM vs NPM: Why You Should Switch in 2025 - The Glitched Goblet https://glitchedgoblet.blog/post/pnpm
[5] Choosing the Right Package Manager: npm vs yarn vs pnpm vs bun https://www.deployhq.com/blog/choosing-the-right-package-manager-npm-vs-yarn-vs-pnpm-vs-bun
[6] PNPM Vs. NPM Vs. Yarn: Which Package Manager is Right ... https://www.dhiwise.com/post/pnpm-vs-npm-vs-yarn-which-javascript-package-manager
[7] PNPM vs NPM: Why You Should Switch in 2025 https://dev.to/thelogicwarlock/pnpm-vs-npm-why-you-should-switch-in-2025-4egg
[8] pnpm vs npm https://pnpm.io/pnpm-vs-npm
[9] Why you should prefer using pnpm over npm and yarn? https://refine.dev/blog/pnpm-vs-npm-and-yarn/
[10] Advantages Of Pnpm https://www.syncfusion.com/blogs/post/pnpm-vs-npm-vs-yarn
[11] npm vs Yarn vs pnpm – Which Package Manager Should You Use ... https://dev.to/hamzakhan/npm-vs-yarn-vs-pnpm-which-package-manager-should-you-use-in-2025-2f1g
[12] Choosing the Right JavaScript Package Manager in 2025: npm vs ... https://developersvoice.com/blog/js/npm-yarn-pnpm-bun-comparison/
[13] In 2025, is there still a clear winner between npm, pnpm, and bun? https://github.com/orgs/community/discussions/182181
[14] PNPM vs. Bun Install vs. Yarn Berry https://betterstack.com/community/guides/scaling-nodejs/pnpm-vs-bun-install-vs-yarn/
[15] npm vs yarn vs pnpm: A Comprehensive Guide to Choosing the Right Package Manager https://dev.to/raajaryan/npm-vs-yarn-vs-pnpm-a-comprehensive-guide-to-choosing-the-right-package-manager-1o1g
[16] [AskJS] Pnpm and Npm difference https://www.reddit.com/r/javascript/comments/1l9jm5k/askjs_pnpm_and_npm_difference/
[17] pnpm vs yarn v4 https://www.reddit.com/r/typescript/comments/1ainj58/pnpm_vs_yarn_v4/
[18] Package Manager choice (npm vs yarn vs pnpm) https://forum.xwiki.org/t/package-manager-choice-npm-vs-yarn-vs-pnpm/13420
[19] Pnpm vs Npm vs Yarn - What to Choose? https://www.youtube.com/watch?v=kVJ0yoXCORE
[20] what is the difference between npm and pnpm and yarn https://www.reddit.com/r/node/comments/10n8t9l/what_is_the_difference_between_npm_and_pnpm_and/
