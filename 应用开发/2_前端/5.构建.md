# 1.什么是vite， 什么是vite HMR
Vite 是一个现代前端构建工具和开发服务器，主打“启动快、热更新快”，常和 Vue、React 等框架一起使用。[8]
Vite HMR 指的是 Vite 提供的模块热替换（Hot Module Replacement）机制，用来在开发时“改代码立即在浏览器生效而不整页刷新”。[4][8]

## 什么是 Vite

- Vite 是一款基于原生 ES Modules 的前端构建工具，开发时直接用浏览器加载源码，不需要像 Webpack 那样先整体打包再启动。这样冷启动速度非常快，项目越大优势越明显。[8]
- Vite 在开发阶段内置了静态资源处理、别名、环境变量、HMR 等能力，在生产阶段则使用 Rollup 做打包输出，兼顾开发体验和打包质量。[8][7]

## 什么是 Vite HMR

- HMR 全称为 Hot Module Replacement（模块热替换），意思是“在应用运行过程中，只替换变动的模块，而不用整页刷新”。在 Vite 中，当你保存文件时，只有受影响的模块会被重新加载和执行。[4][5]
- Vite 的 HMR 依托开发服务器和浏览器之间的 WebSocket 通信：文件变化 → 服务端计算受影响模块 → 通过 WebSocket 发送更新消息 → 浏览器按需请求最新模块并更新视图，从而做到“秒级反馈”。[5][6]

## Vite HMR 的使用感受（从开发者视角）

- 改组件模板、样式或逻辑后，浏览器页面几乎瞬间更新，而且通常不会丢失当前页面状态（例如表单输入、打开的 Tab 等），开发体验比单纯的自动刷新要好很多。[4][5]
- 对于不支持 HMR 的场景（例如某些复杂依赖链无法安全替换），Vite 会退化为整页刷新，保证页面最终状态正确，这部分行为也由它的 HMR 机制统一管理。[4][6]

## Vite 中的 HMR API（简单了解）

- 在代码里可以通过 `import.meta.hot` 访问 Vite 注入的 HMR 对象，例如使用 `import.meta.hot.accept` 接受模块更新，用于自定义组件或库的热更新逻辑。[2][5]
- Vite 还内置了一些 HMR 事件（如 `vite:beforeUpdate`、`vite:afterUpdate` 等），可以在需要时监听这些事件做一些额外处理，不过普通业务开发一般不需要手写这些逻辑。[2][6]

在项目中通过package.json里作为工具依赖&脚本使用，在vite.config.ts里作为“配置入口”使用

Sources
[1] HMR API | Vite 官方中文文档 https://vitejs.cn/vite3-cn/guide/api-hmr.html
[2] HMR API | Vite 官方中文文档 https://cn.vite.dev/guide/api-hmr
[3] 从零到一，带你彻底搞懂vite 中的HMR 原理（源码分析） #19 - GitHub https://github.com/WJCHumble/Blog/issues/19
[4] Vite原理学习之HMR 原创 - CSDN博客 https://blog.csdn.net/s1879046/article/details/122276443
[5] Vite 热更新原理探索本文先介绍了HMR 的起源 - 稀土掘金 https://juejin.cn/post/7351430820714266650
[6] Vite 热更新(HMR)原理了解一下原创 - CSDN博客 https://blog.csdn.net/weixin_52884694/article/details/138205788
[7] Vite 热更新(HMR)原理了解一下-腾讯云开发者社区 https://cloud.tencent.com/developer/article/2414337
[8] 开始| Vite 官方中文文档 https://cn.vite.dev/guide/
[9] Vite的HMR | HanochMa - GitHub Pages https://hanochma.github.io/blogs/web-apply/2023-05-04-vite-hmr
[10] Vite HMR原理解析原创 - CSDN博客 https://blog.csdn.net/qq_42880714/article/details/122585833
[11] Vite Runtime API | Vite 官方中文文档 https://cn.vite.dev/guide/api-vite-runtime
[12] Vite 的HMR 機制 - 高見龍 https://kaochenlong.com/hmr-in-vite
[13] hmr笔记- @chendapeng http://learn.bythewayer.com/node/vite/5
[14] Vite 和Webpack 的热更新（HMR）有什么区别？ - ChoZ - 博客园 https://www.cnblogs.com/LylePark/p/18774403
[15] 从零到一，带你彻底搞懂 vite 中的 HMR 原理（源码分析） https://juejin.cn/post/6854573209329598477

